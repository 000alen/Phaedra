<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>JSDoc: Source: manipulation/TabsManipulation.js</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link
      type="text/css"
      rel="stylesheet"
      href="styles/prettify-tomorrow.css"
    />
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css" />
  </head>

  <body>
    <div id="main">
      <h1 class="page-title">Source: manipulation/TabsManipulation.js</h1>

      <section>
        <article>
          <pre
            class="prettyprint source linenums"
          ><code>import { v4 as uuidv4 } from "uuid";

/**
 * @typedef {Object} Tab
 * @property {string} id
 * @property {string} title
 * @property {JSX.Element} [content]
 */

/**
 * @typedef {Object} TabsInformation
 * @property {Tab[]} tabs
 * @property {string} [activeTab]
 */

/**
 * Creates a tab.
 * @param {Object} args
 * @returns {Tab}
 */
export function createTab({ id, title, content }) {
  if (!id) id = uuidv4();
  if (!title) title = "New Tab";
  if (!content) content = null;

  return {
    id: id,
    title: title,
    content: content,
  };
}

/**
 * Inserts a Tab.
 * @param {Tab[]} tabs
 * @param {string} activeTab
 * @param {Object} args
 * @param {Tab} args.tab
 * @param {number} args.index
 * @returns {TabsInformation}
 */
export function insertTab(tabs, activeTab, { tab, index }) {
  let newTabs = [...tabs];
  newTabs.splice(index, 0, tab);
  return {
    tabs: newTabs,
    activeTab: tab.id,
  };
}

/**
 * Adds a Tab.
 * @param {Tab[]} tabs
 * @param {string} activeTab
 * @param {Object} args
 * @param {Tab} args.tab
 * @returns {TabsInformation}
 */
export function addTab(tabs, activeTab, { tab }) {
  return {
    tabs: [...tabs, tab],
    activeTab: tab.id,
  };
}

/**
 * Removes a Tab.
 * @param {Tab[]} tabs
 * @param {string} activeTab
 * @param {Object} args
 * @param {string} args.id
 * @returns {TabsInformation}
 */
export function removeTab(tabs, activeTab, { id }) {
  let activeTabIndex = tabs.findIndex((tab) => tab.id === id);

  let newTabs = tabs.filter((tab) => tab.id !== id);
  let newActiveTab = activeTab;
  if (newTabs.length &amp;&amp; activeTabIndex !== 0) {
    newActiveTab = newTabs[activeTabIndex - 1].id;
  }

  return {
    tabs: newTabs,
    activeTab: newTabs.length ? newActiveTab : undefined,
  };
}

/**
 * Selects a Tab.
 * @param {Tab[]} tabs
 * @param {string} activeTab
 * @param {Object} args
 * @param {string} args.id
 * @returns {TabsInformation}
 */
export function selectTab(tabs, activeTab, { id }) {
  return {
    tabs: tabs,
    activeTab: id,
  };
}

/**
 * Sets a title of a Tab.
 * @param {Tab[]} tabs
 * @param {string} activeTab
 * @param {Object} args
 * @param {string} args.id
 * @param {string} args.title
 * @returns {TabsInformation}
 */
export function setTabTitle(tabs, activeTab, { id, title }) {
  return {
    tabs: tabs.map((tab) => {
      return {
        ...tab,
        title: tab.id === id ? title : tab.title,
      };
    }),
    activeTab: activeTab,
  };
}

/**
 * Sets a title of a Tab.
 * @param {Tab[]} tabs
 * @param {string} activeTab
 * @param {Object} args
 * @param {string} args.id
 * @param {JSX.Element} args.content
 * @returns {TabsInformation}
 */
export function setTabContent(tabs, activeTab, { id, content }) {
  return {
    tabs: tabs.map((tab) => {
      return {
        ...tab,
        content: tab.id === id ? content : tab.content,
      };
    }),
    activeTab: activeTab,
  };
}

/**
 * Returns index of a Tab.
 * @param {Tab[]} tabs
 * @param {Object} args
 * @param {string} args.id
 * @returns {number}
 */
export function indexTab(tabs, { id }) {
  return tabs.findIndex((tab) => tab.id === id);
}

/**
 * Returns a Tab.
 * @param {Tab[]} tabs
 * @param {object} args
 * @param {string} args.id
 * @returns {Tab | undefined}
 */
export function getTab(tabs, { id }) {
  return tabs.find((tab) => tab.id === id);
}

/**
 * Returns title of a Tab.
 * @param {Tab[]} tabs
 * @param {Object} args
 * @param {string} args.id
 * @returns {string | undefined}
 */
export function getTabTitle(tabs, { id }) {
  let tab = tabs.find((tab) => tab.id === id);

  if (tab === undefined) return undefined;

  return tab.title;
}

/**
 * Returns title of a Tab.
 * @param {Tab[]} tabs
 * @param {Object} args
 * @param {string} args.id
 * @returns {JSX.Element | undefined}
 */
export function getTabContent(tabs, { id }) {
  let tab = tabs.find((tab) => tab.id === id);

  if (tab === undefined) return undefined;

  return tab.content;
}
</code></pre>
        </article>
      </section>
    </div>

    <nav>
      <h2><a href="index.html">Home</a></h2>
      <h3>Global</h3>
      <ul>
        <li><a href="global.html#addAntonymCell">addAntonymCell</a></li>
        <li><a href="global.html#addCell">addCell</a></li>
        <li><a href="global.html#addEntitiesCell">addEntitiesCell</a></li>
        <li><a href="global.html#addGenerateCell">addGenerateCell</a></li>
        <li><a href="global.html#addMeaningCell">addMeaningCell</a></li>
        <li><a href="global.html#addMessageBar">addMessageBar</a></li>
        <li><a href="global.html#addPage">addPage</a></li>
        <li><a href="global.html#addQuestionCell">addQuestionCell</a></li>
        <li>
          <a href="global.html#addSparseQuestionCell">addSparseQuestionCell</a>
        </li>
        <li><a href="global.html#addSynonymCell">addSynonymCell</a></li>
        <li><a href="global.html#addTab">addTab</a></li>
        <li>
          <a href="global.html#addWikipediaImageCell">addWikipediaImageCell</a>
        </li>
        <li>
          <a href="global.html#addWikipediaSuggestionsCell"
            >addWikipediaSuggestionsCell</a
          >
        </li>
        <li>
          <a href="global.html#addWikipediaSummaryCell"
            >addWikipediaSummaryCell</a
          >
        </li>
        <li><a href="global.html#base64encode">base64encode</a></li>
        <li><a href="global.html#clipboardDo">clipboardDo</a></li>
        <li><a href="global.html#clipboardPop">clipboardPop</a></li>
        <li><a href="global.html#clipboardPush">clipboardPush</a></li>
        <li><a href="global.html#clipboardTop">clipboardTop</a></li>
        <li><a href="global.html#createCell">createCell</a></li>
        <li><a href="global.html#createCommand">createCommand</a></li>
        <li><a href="global.html#createNotebook">createNotebook</a></li>
        <li><a href="global.html#createPage">createPage</a></li>
        <li><a href="global.html#createTab">createTab</a></li>
        <li><a href="global.html#do">do</a></li>
        <li><a href="global.html#getApiUrl">getApiUrl</a></li>
        <li><a href="global.html#getCell">getCell</a></li>
        <li><a href="global.html#getCellContent">getCellContent</a></li>
        <li><a href="global.html#getCellData">getCellData</a></li>
        <li><a href="global.html#getPage">getPage</a></li>
        <li><a href="global.html#getTab">getTab</a></li>
        <li><a href="global.html#getTabContent">getTabContent</a></li>
        <li><a href="global.html#getTabTitle">getTabTitle</a></li>
        <li><a href="global.html#handleSelection">handleSelection</a></li>
        <li><a href="global.html#historyDo">historyDo</a></li>
        <li><a href="global.html#historyRedo">historyRedo</a></li>
        <li><a href="global.html#historyUndo">historyUndo</a></li>
        <li><a href="global.html#indexCell">indexCell</a></li>
        <li><a href="global.html#indexPage">indexPage</a></li>
        <li><a href="global.html#indexTab">indexTab</a></li>
        <li><a href="global.html#insertCell">insertCell</a></li>
        <li><a href="global.html#insertPage">insertPage</a></li>
        <li><a href="global.html#insertTab">insertTab</a></li>
        <li><a href="global.html#notebookFromPdf">notebookFromPdf</a></li>
        <li><a href="global.html#notebookFromText">notebookFromText</a></li>
        <li><a href="global.html#openDialog">openDialog</a></li>
        <li><a href="global.html#openFile">openFile</a></li>
        <li><a href="global.html#openJson">openJson</a></li>
        <li><a href="global.html#openPdf">openPdf</a></li>
        <li><a href="global.html#openText">openText</a></li>
        <li><a href="global.html#readFile">readFile</a></li>
        <li><a href="global.html#redo">redo</a></li>
        <li><a href="global.html#removeCell">removeCell</a></li>
        <li><a href="global.html#removeMessageBar">removeMessageBar</a></li>
        <li><a href="global.html#removePage">removePage</a></li>
        <li><a href="global.html#removeTab">removeTab</a></li>
        <li><a href="global.html#saveDialog">saveDialog</a></li>
        <li><a href="global.html#saveNotebook">saveNotebook</a></li>
        <li><a href="global.html#selectTab">selectTab</a></li>
        <li><a href="global.html#setApiUrl">setApiUrl</a></li>
        <li><a href="global.html#setCellContent">setCellContent</a></li>
        <li><a href="global.html#setCellData">setCellData</a></li>
        <li><a href="global.html#setLoadingText">setLoadingText</a></li>
        <li><a href="global.html#setTabContent">setTabContent</a></li>
        <li><a href="global.html#setTabTitle">setTabTitle</a></li>
        <li><a href="global.html#tabsDo">tabsDo</a></li>
        <li><a href="global.html#undo">undo</a></li>
        <li><a href="global.html#undoAddAntonymCell">undoAddAntonymCell</a></li>
        <li><a href="global.html#undoAddCell">undoAddCell</a></li>
        <li>
          <a href="global.html#undoAddEntitiesCell">undoAddEntitiesCell</a>
        </li>
        <li>
          <a href="global.html#undoAddGenerateCell">undoAddGenerateCell</a>
        </li>
        <li><a href="global.html#undoAddMeaningCell">undoAddMeaningCell</a></li>
        <li><a href="global.html#undoAddPage">undoAddPage</a></li>
        <li>
          <a href="global.html#undoAddQuestionCell">undoAddQuestionCell</a>
        </li>
        <li>
          <a href="global.html#undoAddSparseQuestionCell"
            >undoAddSparseQuestionCell</a
          >
        </li>
        <li><a href="global.html#undoAddSynonymCell">undoAddSynonymCell</a></li>
        <li>
          <a href="global.html#undoAddWikipediaImageCell"
            >undoAddWikipediaImageCell</a
          >
        </li>
        <li>
          <a href="global.html#undoAddWikipediaSuggestionsCell"
            >undoAddWikipediaSuggestionsCell</a
          >
        </li>
        <li>
          <a href="global.html#undoAddWikipediaSummaryCell"
            >undoAddWikipediaSummaryCell</a
          >
        </li>
        <li><a href="global.html#undoInsertCell">undoInsertCell</a></li>
        <li><a href="global.html#undoInsertPage">undoInsertPage</a></li>
        <li><a href="global.html#undoRemoveCell">undoRemoveCell</a></li>
        <li><a href="global.html#undoRemovePage">undoRemovePage</a></li>
        <li><a href="global.html#undoSetCellContent">undoSetCellContent</a></li>
        <li><a href="global.html#undoSetCellData">undoSetCellData</a></li>
        <li><a href="global.html#writeFile">writeFile</a></li>
      </ul>
    </nav>

    <br class="clear" />

    <footer>
      Documentation generated by
      <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Fri Oct 15
      2021 19:50:48 GMT-0300 (Chile Summer Time)
    </footer>

    <script>
      prettyPrint();
    </script>
    <script src="scripts/linenumber.js"></script>
  </body>
</html>
